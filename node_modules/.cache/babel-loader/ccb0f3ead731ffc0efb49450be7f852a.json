{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\HP\\\\Documents\\\\GitHub\\\\TheBarakMart-An-Ecommerce-website\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\HP\\\\Documents\\\\GitHub\\\\TheBarakMart-An-Ecommerce-website\\\\src\\\\components\\\\cart\\\\CartCard.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { FaPlus, FaMinus, RiDeleteBin5Fill } from \"../../icons/icon\";\nimport styles from \"./CartCard.module.css\";\nimport { useDataContext, useAuthContext } from \"../../hook/index\";\nimport { Toast } from \"../index\";\nimport { CART_API } from \"../../urls\";\n\nvar CartCard = function CartCard(_ref) {\n  var index = _ref.index,\n      type = _ref.type,\n      productId = _ref.productId,\n      dismissBtn = _ref.dismissBtn,\n      name = _ref.name,\n      image = _ref.image,\n      price = _ref.price,\n      fastDelivery = _ref.fastDelivery,\n      inStock = _ref.inStock,\n      offer = _ref.offer,\n      quantity = _ref.quantity;\n\n  var _useDataContext = useDataContext(),\n      state = _useDataContext.state,\n      updateCartQuantity = _useDataContext.updateCartQuantity,\n      removeProductFromCart = _useDataContext.removeProductFromCart,\n      isLoading = _useDataContext.isLoading;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      cartProductPrice = _useState2[0],\n      setCartProductPrice = _useState2[1];\n\n  var _useAuthContext = useAuthContext(),\n      userId = _useAuthContext.userId;\n\n  var updatePrice = function updatePrice(productList, productId, quantity) {\n    setCartProductPrice(productList.find(function (p) {\n      return p._id === productId;\n    }).price * quantity);\n  };\n\n  useEffect(function () {\n    updatePrice(state.productList, productId, quantity);\n  }, [quantity]);\n\n  var handleCartQuantity = function handleCartQuantity(_ref2) {\n    var type = _ref2.type;\n\n    switch (type) {\n      case \"INCREMENT\":\n        updateCartQuantity({\n          url: \"\".concat(CART_API, \"/\").concat(userId),\n          dispatchType: \"UPDATE_PRODUCT_QUANTITY_IN_CART\",\n          productId: productId,\n          updateType: \"INCREMENT\",\n          toastMsg: \"\".concat(name, \" QUANTITY HAS BEEN INCREASED\"),\n          toastType: \"success\"\n        });\n        break;\n\n      case \"DECREMENT\":\n        updateCartQuantity({\n          url: \"\".concat(CART_API, \"/\").concat(userId),\n          dispatchType: \"UPDATE_PRODUCT_QUANTITY_IN_CART\",\n          productId: productId,\n          updateType: \"DECREMENT\",\n          toastMsg: \"\".concat(name, \" QUANTITY HAS BEEN DECREASED\"),\n          toastType: \"success\"\n        });\n        break;\n\n      case \"REMOVE\":\n        removeProductFromCart({\n          url: \"\".concat(CART_API, \"/\").concat(userId),\n          productId: productId,\n          toastMsg: \"\".concat(name, \" HAS BEEN REMOVED\"),\n          toastType: \"error\"\n        });\n        break;\n\n      default:\n        alert(\"SOMETHING WENT WRONG WHEN UPDATING THE CART QUANTITY\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.cartCardContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"300px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      width: \"100%\",\n      backgroundSize: \"cover\"\n    },\n    src: image,\n    alt: productId,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.cartContentContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, \" \", name, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      padding: \"0em 1em 0em 0em\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, \"\\u20B9 \", cartProductPrice), state.cartList.hasOwnProperty(\"userId\") && state.cartList.cartItems.length > 0 && state.cartList.cartItems.find(function (_ref3) {\n    var _id = _ref3._id._id;\n    return _id === productId;\n  })[\"quantity\"] === 1 ? /*#__PURE__*/React.createElement(\"button\", {\n    className: styles.cartBtn,\n    onClick: function onClick() {\n      return handleCartQuantity({\n        type: \"REMOVE\"\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(RiDeleteBin5Fill, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  })) : /*#__PURE__*/React.createElement(\"button\", {\n    className: styles.cartBtn,\n    onClick: function onClick() {\n      return handleCartQuantity({\n        type: \"DECREMENT\"\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FaMinus, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, state.cartList.hasOwnProperty(\"userId\") && state.cartList.cartItems.length > 0 && state.cartList.cartItems.find(function (_ref4) {\n    var _id = _ref4._id._id;\n    return _id === productId;\n  })[\"quantity\"]), /*#__PURE__*/React.createElement(\"button\", {\n    className: styles.cartBtn,\n    onClick: function onClick() {\n      return handleCartQuantity({\n        type: \"INCREMENT\"\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FaPlus, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  })))), isLoading && /*#__PURE__*/React.createElement(Toast, {\n    message: state.toast.toastMsg,\n    type: state.toast.toastType,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport { CartCard };","map":{"version":3,"sources":["C:/Users/HP/Documents/GitHub/TheBarakMart-An-Ecommerce-website/src/components/cart/CartCard.js"],"names":["React","useState","useEffect","FaPlus","FaMinus","RiDeleteBin5Fill","styles","useDataContext","useAuthContext","Toast","CART_API","CartCard","index","type","productId","dismissBtn","name","image","price","fastDelivery","inStock","offer","quantity","state","updateCartQuantity","removeProductFromCart","isLoading","cartProductPrice","setCartProductPrice","userId","updatePrice","productList","find","p","_id","handleCartQuantity","url","dispatchType","updateType","toastMsg","toastType","alert","cartCardContainer","width","backgroundSize","cartContentContainer","display","alignItems","padding","cartList","hasOwnProperty","cartItems","length","cartBtn","toast"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { FaPlus, FaMinus, RiDeleteBin5Fill } from \"../../icons/icon\";\r\nimport styles from \"./CartCard.module.css\";\r\nimport { useDataContext, useAuthContext } from \"../../hook/index\";\r\nimport { Toast } from \"../index\";\r\nimport { CART_API } from \"../../urls\";\r\n\r\nconst CartCard = ({\r\n  index,\r\n  type,\r\n  productId,\r\n  dismissBtn,\r\n  name,\r\n  image,\r\n  price,\r\n  fastDelivery,\r\n  inStock,\r\n  offer,\r\n  quantity,\r\n}) => {\r\n  const { state, updateCartQuantity, removeProductFromCart, isLoading } =\r\n    useDataContext();\r\n  const [cartProductPrice, setCartProductPrice] = useState(0);\r\n\r\n  const { userId } = useAuthContext();\r\n\r\n  const updatePrice = (productList, productId, quantity) => {\r\n    setCartProductPrice(\r\n      productList.find((p) => p._id === productId).price * quantity\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    updatePrice(state.productList, productId, quantity);\r\n  }, [quantity]);\r\n\r\n  const handleCartQuantity = ({ type }) => {\r\n    switch (type) {\r\n      case \"INCREMENT\":\r\n        updateCartQuantity({\r\n          url: `${CART_API}/${userId}`,\r\n          dispatchType: \"UPDATE_PRODUCT_QUANTITY_IN_CART\",\r\n          productId: productId,\r\n          updateType: \"INCREMENT\",\r\n          toastMsg: `${name} QUANTITY HAS BEEN INCREASED`,\r\n          toastType: \"success\",\r\n        });\r\n        break;\r\n\r\n      case \"DECREMENT\":\r\n        updateCartQuantity({\r\n          url: `${CART_API}/${userId}`,\r\n          dispatchType: \"UPDATE_PRODUCT_QUANTITY_IN_CART\",\r\n          productId: productId,\r\n          updateType: \"DECREMENT\",\r\n          toastMsg: `${name} QUANTITY HAS BEEN DECREASED`,\r\n          toastType: \"success\",\r\n        });\r\n        break;\r\n\r\n      case \"REMOVE\":\r\n        removeProductFromCart({\r\n          url: `${CART_API}/${userId}`,\r\n          productId: productId,\r\n          toastMsg: `${name} HAS BEEN REMOVED`,\r\n          toastType: \"error\",\r\n        });\r\n        break;\r\n\r\n      default:\r\n        alert(\"SOMETHING WENT WRONG WHEN UPDATING THE CART QUANTITY\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.cartCardContainer}>\r\n      <div style={{ width: \"300px\" }}>\r\n        <img\r\n          style={{ width: \"100%\", backgroundSize: \"cover\" }}\r\n          src={image}\r\n          alt={productId}\r\n        />\r\n      </div>\r\n      <div className={styles.cartContentContainer}>\r\n        <h3> {name} </h3>\r\n\r\n        <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n          <h3 style={{ padding: \"0em 1em 0em 0em\" }}>â‚¹ {cartProductPrice}</h3>\r\n\r\n          {state.cartList.hasOwnProperty(\"userId\") &&\r\n          state.cartList.cartItems.length > 0 &&\r\n          state.cartList.cartItems.find(\r\n            ({ _id: { _id } }) => _id === productId\r\n          )[\"quantity\"] === 1 ? (\r\n            <button\r\n              className={styles.cartBtn}\r\n              onClick={() => handleCartQuantity({ type: \"REMOVE\" })}\r\n            >\r\n              <RiDeleteBin5Fill />\r\n            </button>\r\n          ) : (\r\n            <button\r\n              className={styles.cartBtn}\r\n              onClick={() => handleCartQuantity({ type: \"DECREMENT\" })}\r\n            >\r\n              <FaMinus />\r\n            </button>\r\n          )}\r\n\r\n          <span>\r\n            {state.cartList.hasOwnProperty(\"userId\") &&\r\n              state.cartList.cartItems.length > 0 &&\r\n              state.cartList.cartItems.find(\r\n                ({ _id: { _id } }) => _id === productId\r\n              )[\"quantity\"]}\r\n          </span>\r\n          <button\r\n            className={styles.cartBtn}\r\n            onClick={() => handleCartQuantity({ type: \"INCREMENT\" })}\r\n          >\r\n            <FaPlus />\r\n          </button>\r\n        </div>\r\n      </div>\r\n      {isLoading && (\r\n        <Toast message={state.toast.toastMsg} type={state.toast.toastType} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { CartCard };\r\n"]},"metadata":{},"sourceType":"module"}