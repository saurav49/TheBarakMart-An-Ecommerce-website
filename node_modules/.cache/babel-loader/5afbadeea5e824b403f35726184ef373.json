{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\HP\\\\Documents\\\\GitHub\\\\TheBarakMart-An-Ecommerce-website\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\HP\\\\Documents\\\\GitHub\\\\TheBarakMart-An-Ecommerce-website\\\\src\\\\components\\\\productList\\\\LikeButton.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { FaRegHeart, FaHeart } from \"../../icons/icon\";\nimport styles from \"./ProductCard.module.css\";\nimport { useDataContext } from \"../../hook/index\";\nimport { Toast } from \"../index\";\nimport { WISHLIST_API } from \"../../urls\";\n\nvar LikeButton = function LikeButton(_ref) {\n  var productId = _ref.productId,\n      styleType = _ref.styleType;\n\n  var _useDataContext = useDataContext(),\n      state = _useDataContext.state,\n      addProductToWishlist = _useDataContext.addProductToWishlist,\n      removeProductFromWishlist = _useDataContext.removeProductFromWishlist,\n      isLoading = _useDataContext.isLoading;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      productToBeAdded = _useState2[0],\n      setProductToBeAdded = _useState2[1];\n\n  useEffect(function () {\n    setProductToBeAdded(state.productList.filter(function (product) {\n      return product._id === productId;\n    })[0]);\n  }, [state.productList]); // const productToBeAdded = state.productList.filter(\n  //   (product) => product._id === productId\n  // )[0];\n\n  console.log({\n    productToBeAdded: productToBeAdded\n  }, state.productList); // Dynamic style for verticle and horizontal cards\n\n  var likeBtnStyle = styleType === \"VERTICLE_CARD\" ? styles.btnWishCard : styles.btnWishDetailCard;\n\n  var handleLikeBtn = function handleLikeBtn() {\n    productToBeAdded.isInWishList ? removeProductFromWishlist({\n      url: \"\".concat(WISHLIST_API),\n      productId: productId,\n      toastMsg: \"\".concat(productToBeAdded.name, \" has been removed from wishlist\"),\n      toastType: \"error\"\n    }) : addProductToWishlist({\n      url: \"\".concat(WISHLIST_API),\n      productId: productId,\n      toastMsg: \"\".concat(productToBeAdded.name, \" has been added to wishlist\"),\n      toastType: \"success\"\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: likeBtnStyle,\n    onClick: handleLikeBtn,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, (productToBeAdded === null || productToBeAdded === void 0 ? void 0 : productToBeAdded.isInWishList) ? /*#__PURE__*/React.createElement(FaHeart, {\n    className: styles.heartIcon,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(FaRegHeart, {\n    className: styles.heartIcon,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }))), isLoading && /*#__PURE__*/React.createElement(Toast, {\n    message: state.toast.toastMsg,\n    type: state.toast.toastType,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport { LikeButton };","map":{"version":3,"sources":["C:/Users/HP/Documents/GitHub/TheBarakMart-An-Ecommerce-website/src/components/productList/LikeButton.js"],"names":["React","useEffect","useState","FaRegHeart","FaHeart","styles","useDataContext","Toast","WISHLIST_API","LikeButton","productId","styleType","state","addProductToWishlist","removeProductFromWishlist","isLoading","productToBeAdded","setProductToBeAdded","productList","filter","product","_id","console","log","likeBtnStyle","btnWishCard","btnWishDetailCard","handleLikeBtn","isInWishList","url","toastMsg","name","toastType","heartIcon","toast"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { FaRegHeart, FaHeart } from \"../../icons/icon\";\r\nimport styles from \"./ProductCard.module.css\";\r\nimport { useDataContext } from \"../../hook/index\";\r\nimport { Toast } from \"../index\";\r\nimport { WISHLIST_API } from \"../../urls\";\r\n\r\nconst LikeButton = ({ productId, styleType }) => {\r\n  const { state, addProductToWishlist, removeProductFromWishlist, isLoading } =\r\n    useDataContext();\r\n\r\n  const [productToBeAdded, setProductToBeAdded] = useState();\r\n\r\n  useEffect(() => {\r\n    setProductToBeAdded(\r\n      state.productList.filter((product) => product._id === productId)[0]\r\n    );\r\n  }, [state.productList]);\r\n\r\n  // const productToBeAdded = state.productList.filter(\r\n  //   (product) => product._id === productId\r\n  // )[0];\r\n\r\n  console.log({ productToBeAdded }, state.productList);\r\n\r\n  // Dynamic style for verticle and horizontal cards\r\n  const likeBtnStyle =\r\n    styleType === \"VERTICLE_CARD\"\r\n      ? styles.btnWishCard\r\n      : styles.btnWishDetailCard;\r\n\r\n  const handleLikeBtn = () => {\r\n    productToBeAdded.isInWishList\r\n      ? removeProductFromWishlist({\r\n          url: `${WISHLIST_API}`,\r\n          productId: productId,\r\n          toastMsg: `${productToBeAdded.name} has been removed from wishlist`,\r\n          toastType: \"error\",\r\n        })\r\n      : addProductToWishlist({\r\n          url: `${WISHLIST_API}`,\r\n          productId: productId,\r\n          toastMsg: `${productToBeAdded.name} has been added to wishlist`,\r\n          toastType: \"success\",\r\n        });\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div>\r\n        <button className={likeBtnStyle} onClick={handleLikeBtn}>\r\n          {productToBeAdded?.isInWishList ? (\r\n            <FaHeart className={styles.heartIcon} />\r\n          ) : (\r\n            <FaRegHeart className={styles.heartIcon} />\r\n          )}\r\n        </button>\r\n      </div>\r\n      {isLoading && (\r\n        <Toast message={state.toast.toastMsg} type={state.toast.toastType} />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport { LikeButton };\r\n"]},"metadata":{},"sourceType":"module"}