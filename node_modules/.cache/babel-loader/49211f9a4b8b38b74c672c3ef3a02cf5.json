{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\HP\\\\Documents\\\\GitHub\\\\TheBarakMart-An-Ecommerce-website\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"C:\\\\Users\\\\HP\\\\Documents\\\\GitHub\\\\TheBarakMart-An-Ecommerce-website\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"C:\\\\Users\\\\HP\\\\Documents\\\\GitHub\\\\TheBarakMart-An-Ecommerce-website\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\HP\\\\Documents\\\\GitHub\\\\TheBarakMart-An-Ecommerce-website\\\\src\\\\context\\\\UserContext.js\";\n\nimport React, { useContext, createContext, useReducer, useEffect } from \"react\";\nexport var UserContext = createContext(); // const users = [\n//   {\n//     username: \"admin\",\n//     password: \"password123\"\n//   }\n// ];\n\nvar userFunction = function userFunction(state, action) {\n  var _localStorage;\n\n  switch (action.type) {\n    case \"ADD_USERS_TO_LIST\":\n      var item = (_localStorage = localStorage) === null || _localStorage === void 0 ? void 0 : _localStorage.setItem(\"users\", JSON.stringify({\n        users: [].concat(_toConsumableArray(state.users), [action.payload])\n      }));\n      return _objectSpread(_objectSpread({}, state), {}, {\n        users: [].concat(_toConsumableArray(state.users), [action.payload])\n      });\n\n    case \"UPDATE_USER_LIST\":\n      return _objectSpread(_objectSpread({}, state), {}, {\n        users: _toConsumableArray(action.payload.users)\n      });\n\n    default:\n      console.log(\"SOMETHING WENT WRONG PLEASE CHECK USEUSERCONTEXT\");\n  }\n};\n\nexport var UserProvider = function UserProvider(_ref) {\n  var children = _ref.children;\n\n  var _useReducer = useReducer(userFunction, {\n    users: [{\n      username: \"admin\",\n      password: \"password123\"\n    }]\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  useEffect(function () {\n    var _localStorage2;\n\n    var updateUsers = JSON.parse((_localStorage2 = localStorage) === null || _localStorage2 === void 0 ? void 0 : _localStorage2.getItem(\"users\"));\n\n    if (updateUsers) {\n      dispatch({\n        type: \"UPDATE_USER_LIST\",\n        payload: updateUsers\n      });\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(UserContext.Provider, {\n    value: {\n      state: state,\n      dispatch: dispatch\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, children);\n};\nexport var useUserContext = function useUserContext() {\n  return useContext(UserContext);\n};","map":{"version":3,"sources":["C:/Users/HP/Documents/GitHub/TheBarakMart-An-Ecommerce-website/src/context/UserContext.js"],"names":["React","useContext","createContext","useReducer","useEffect","UserContext","userFunction","state","action","type","item","localStorage","setItem","JSON","stringify","users","payload","console","log","UserProvider","children","username","password","dispatch","updateUsers","parse","getItem","useUserContext"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,aAA5B,EAA2CC,UAA3C,EAAuDC,SAAvD,QAAwE,OAAxE;AAEA,OAAO,IAAMC,WAAW,GAAGH,aAAa,EAAjC,C,CAEP;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMI,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAQC,MAAR,EAAmB;AAAA;;AACtC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,mBAAL;AACE,UAAMC,IAAI,oBAAGC,YAAH,kDAAG,cAAcC,OAAd,CACX,OADW,EAEXC,IAAI,CAACC,SAAL,CAAe;AAAEC,QAAAA,KAAK,+BAAMR,KAAK,CAACQ,KAAZ,IAAmBP,MAAM,CAACQ,OAA1B;AAAP,OAAf,CAFW,CAAb;AAIA,6CAAYT,KAAZ;AAAmBQ,QAAAA,KAAK,+BAAMR,KAAK,CAACQ,KAAZ,IAAmBP,MAAM,CAACQ,OAA1B;AAAxB;;AAEF,SAAK,kBAAL;AACE,6CAAYT,KAAZ;AAAmBQ,QAAAA,KAAK,qBAAMP,MAAM,CAACQ,OAAP,CAAeD,KAArB;AAAxB;;AAEF;AACEE,MAAAA,OAAO,CAACC,GAAR,CAAY,kDAAZ;AAZJ;AAcD,CAfD;;AAiBA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,OAAkB;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AAC5C,oBAA0BjB,UAAU,CAACG,YAAD,EAAe;AACjDS,IAAAA,KAAK,EAAE,CACL;AACEM,MAAAA,QAAQ,EAAE,OADZ;AAEEC,MAAAA,QAAQ,EAAE;AAFZ,KADK;AAD0C,GAAf,CAApC;AAAA;AAAA,MAAOf,KAAP;AAAA,MAAcgB,QAAd;;AASAnB,EAAAA,SAAS,CAAC,YAAM;AAAA;;AACd,QAAMoB,WAAW,GAAGX,IAAI,CAACY,KAAL,mBAAWd,YAAX,mDAAW,eAAce,OAAd,CAAsB,OAAtB,CAAX,CAApB;;AAEA,QAAIF,WAAJ,EAAiB;AACfD,MAAAA,QAAQ,CAAC;AAAEd,QAAAA,IAAI,EAAE,kBAAR;AAA4BO,QAAAA,OAAO,EAAEQ;AAArC,OAAD,CAAR;AACD;AACF,GANQ,EAMN,EANM,CAAT;AAQA,sBACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAAEjB,MAAAA,KAAK,EAALA,KAAF;AAASgB,MAAAA,QAAQ,EAARA;AAAT,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGH,QADH,CADF;AAKD,CAvBM;AAyBP,OAAO,IAAMO,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAClC,SAAO1B,UAAU,CAACI,WAAD,CAAjB;AACD,CAFM","sourcesContent":["import React, { useContext, createContext, useReducer, useEffect } from \"react\";\r\n\r\nexport const UserContext = createContext();\r\n\r\n// const users = [\r\n//   {\r\n//     username: \"admin\",\r\n//     password: \"password123\"\r\n//   }\r\n// ];\r\n\r\nconst userFunction = (state, action) => {\r\n  switch (action.type) {\r\n    case \"ADD_USERS_TO_LIST\":\r\n      const item = localStorage?.setItem(\r\n        \"users\",\r\n        JSON.stringify({ users: [...state.users, action.payload] })\r\n      );\r\n      return { ...state, users: [...state.users, action.payload] };\r\n\r\n    case \"UPDATE_USER_LIST\":\r\n      return { ...state, users: [...action.payload.users] };\r\n\r\n    default:\r\n      console.log(\"SOMETHING WENT WRONG PLEASE CHECK USEUSERCONTEXT\");\r\n  }\r\n};\r\n\r\nexport const UserProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(userFunction, {\r\n    users: [\r\n      {\r\n        username: \"admin\",\r\n        password: \"password123\"\r\n      }\r\n    ]\r\n  });\r\n\r\n  useEffect(() => {\r\n    const updateUsers = JSON.parse(localStorage?.getItem(\"users\"));\r\n\r\n    if (updateUsers) {\r\n      dispatch({ type: \"UPDATE_USER_LIST\", payload: updateUsers });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <UserContext.Provider value={{ state, dispatch }}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useUserContext = () => {\r\n  return useContext(UserContext);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}