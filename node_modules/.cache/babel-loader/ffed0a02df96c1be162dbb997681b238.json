{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\HP\\\\Documents\\\\GitHub\\\\TheBarakMart-An-Ecommerce-website\\\\src\\\\components\\\\productList\\\\AddToCartButton.js\";\n\nimport React from \"react\";\nimport { FaArrowRight, FaShoppingBag } from \"../../icons/icon\";\nimport styles from \"./ProductCard.module.css\";\nimport { useDataContext } from \"../../hook/index\";\nimport { Toast } from \"../toast/Toast\";\n\nvar AddToCartButton = function AddToCartButton(_ref) {\n  var productId = _ref.productId,\n      inStock = _ref.inStock;\n\n  var _useDataContext = useDataContext(),\n      state = _useDataContext.state,\n      dispatch = _useDataContext.dispatch,\n      addProductToDb = _useDataContext.addProductToDb,\n      updateCartQuantity = _useDataContext.updateCartQuantity,\n      isLoading = _useDataContext.isLoading; // To check whether item is in cartList\n\n\n  var checkIsInCartList = function checkIsInCartList(cartList, productId) {\n    return cartList.find(function (product) {\n      return product.productId === productId;\n    }) !== undefined;\n  }; // Extract product from the product list\n\n\n  var productToBeAdded = state.productList.filter(function (product) {\n    return product.productId === productId;\n  })[0];\n\n  var handleAddToCart = function handleAddToCart() {\n    productToBeAdded.isInCartList ? dispatch({\n      type: \"DISPLAY_COMPONENT\",\n      payload: \"CART\"\n    }) : checkIsInCartList(state.cartList, productId) ? updateCartQuantity({\n      url: \"/api/cartLists\",\n      listType: \"cartList\",\n      dispatchType: \"UPDATE_PRODUCT_QUANTITY_IN_CART\",\n      productId: productId,\n      updateType: \"INCREMENT\",\n      toastMsg: \"\".concat(productToBeAdded.name, \" HAS BEEN UPDATED\"),\n      toastType: \"info\"\n    }) : addProductToDb({\n      url: \"/api/cartLists\",\n      listType: \"cartList\",\n      dispatchType: \"ADD_PRODUCT_TO_CART\",\n      productId: productId,\n      toastMsg: \"\".concat(productToBeAdded.name, \" HAS BEEN ADDED TO CART\"),\n      toastType: \"success\"\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, inStock ? /*#__PURE__*/React.createElement(\"button\", {\n    className: styles.btn,\n    onClick: handleAddToCart,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, productToBeAdded.isInCartList ? /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }, \"GO TO CART\"), /*#__PURE__*/React.createElement(FaArrowRight, {\n    className: styles.arrowIcon,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FaShoppingBag, {\n    className: styles.bagIcon,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, \"ADD TO CART\"))) : null, isLoading && /*#__PURE__*/React.createElement(Toast, {\n    message: state.toast.toastMsg,\n    type: state.toast.toastType,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport { AddToCartButton };","map":{"version":3,"sources":["C:/Users/HP/Documents/GitHub/TheBarakMart-An-Ecommerce-website/src/components/productList/AddToCartButton.js"],"names":["React","FaArrowRight","FaShoppingBag","styles","useDataContext","Toast","AddToCartButton","productId","inStock","state","dispatch","addProductToDb","updateCartQuantity","isLoading","checkIsInCartList","cartList","find","product","undefined","productToBeAdded","productList","filter","handleAddToCart","isInCartList","type","payload","url","listType","dispatchType","updateType","toastMsg","name","toastType","btn","arrowIcon","bagIcon","toast"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { FaArrowRight, FaShoppingBag } from \"../../icons/icon\";\r\nimport styles from \"./ProductCard.module.css\";\r\nimport { useDataContext } from \"../../hook/index\";\r\nimport { Toast } from \"../toast/Toast\";\r\n\r\nconst AddToCartButton = ({ productId, inStock }) => {\r\n  const { state, dispatch, addProductToDb, updateCartQuantity, isLoading } =\r\n    useDataContext();\r\n\r\n  // To check whether item is in cartList\r\n  const checkIsInCartList = (cartList, productId) => {\r\n    return (\r\n      cartList.find((product) => product.productId === productId) !== undefined\r\n    );\r\n  };\r\n\r\n  // Extract product from the product list\r\n  const productToBeAdded = state.productList.filter(\r\n    (product) => product.productId === productId\r\n  )[0];\r\n\r\n  const handleAddToCart = () => {\r\n    productToBeAdded.isInCartList\r\n      ? dispatch({ type: \"DISPLAY_COMPONENT\", payload: \"CART\" })\r\n      : checkIsInCartList(state.cartList, productId)\r\n      ? updateCartQuantity({\r\n          url: `/api/cartLists`,\r\n          listType: \"cartList\",\r\n          dispatchType: \"UPDATE_PRODUCT_QUANTITY_IN_CART\",\r\n          productId: productId,\r\n          updateType: \"INCREMENT\",\r\n          toastMsg: `${productToBeAdded.name} HAS BEEN UPDATED`,\r\n          toastType: \"info\",\r\n        })\r\n      : addProductToDb({\r\n          url: `/api/cartLists`,\r\n          listType: \"cartList\",\r\n          dispatchType: \"ADD_PRODUCT_TO_CART\",\r\n          productId: productId,\r\n          toastMsg: `${productToBeAdded.name} HAS BEEN ADDED TO CART`,\r\n          toastType: \"success\",\r\n        });\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {inStock ? (\r\n        <button className={styles.btn} onClick={handleAddToCart}>\r\n          {productToBeAdded.isInCartList ? (\r\n            <React.Fragment>\r\n              <span>GO TO CART</span>\r\n              <FaArrowRight className={styles.arrowIcon} />\r\n            </React.Fragment>\r\n          ) : (\r\n            <React.Fragment>\r\n              <FaShoppingBag className={styles.bagIcon} />\r\n              <span>ADD TO CART</span>\r\n            </React.Fragment>\r\n          )}\r\n        </button>\r\n      ) : null}\r\n      {isLoading && (\r\n        <Toast message={state.toast.toastMsg} type={state.toast.toastType} />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport { AddToCartButton };\r\n"]},"metadata":{},"sourceType":"module"}